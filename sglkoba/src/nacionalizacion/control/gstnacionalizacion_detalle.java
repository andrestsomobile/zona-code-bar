package nacionalizacion.control;import nacionalizacion.form.*;import nacionalizacion.entity.*;import db.*;import java.util.Collection;import java.sql.SQLException;/******************************************************** *****CLASE GENERADA CON generator V3.0 By pablito *******/public class gstnacionalizacion_detalle extends GstTabla {	public gstnacionalizacion_detalle() {		db = new beanConnector();		this.classEntidad = nacionalizacion_detalle.class;	}	public gstnacionalizacion_detalle(beanConnector db) {		this.db = db;		this.classEntidad = nacionalizacion_detalle.class;	}	public Collection getlistanacionalizacion_detalle() {		String consulta = " SELECT * FROM nacionalizacion_detalle";		return getLista(consulta);	}	public Collection getlistanacionalizacion_detalle(String start, String param) {		start = start == null ? "0" : start;		param = param == null ? "" : param;		String consulta = " SELECT * FROM nacionalizacion_detalle where " + " nadcodnac like '%" + param + "%' " + " or " + " nadentrada like '%" + param + "%' " + "  limit " + this.maxfilas + " offset  " + (Integer.parseInt(start) * this.maxfilas);		return getLista(consulta);	}	public int getTotalPaginaslistanacionalizacion_detalle(String param) {		param = param == null ? "" : param;		String consulta = " SELECT count(1) FROM nacionalizacion_detalle where  " + " nadcodnac like '%" + param + "%'" + " or " + " nadentrada like '%" + param + "%'" + "  ";		return getPaginas(consulta);	}	public boolean crearnacionalizacion_detalle(String nadcodnac, String nadentrada, String nadcantidad, String nadsaldo, String nadpesoneto, String nadpesonetototal, String nadpesobruto, String nadpesobrutototal, String nadfob, String nadfobtotal) throws SQLException {		String insert = "INSERT INTO nacionalizacion_detalle (nadcodnac,nadentrada,nadcantidad, nadsaldo," + "nadpesoneto, nadpesonetototal, nadpesobruto, nadpesobrutototal, nadfob, nadfobtotal) VALUES (" + (nadcodnac == null ? "NULL" : "'" + nadcodnac + "'") + ","				+ (nadentrada == null ? "NULL" : "'" + nadentrada + "'") + "," + (nadcantidad == null ? "NULL" : "'" + nadcantidad + "'") + "," + (nadsaldo == null ? "NULL" : "'" + nadsaldo + "'") + "," + (nadpesoneto == null ? "NULL" : "'" + nadpesoneto + "'") + ","				+ (nadpesonetototal == null ? "NULL" : "'" + nadpesonetototal + "'") + "," + (nadpesobruto == null ? "NULL" : "'" + nadpesobruto + "'") + "," + (nadpesobrutototal == null ? "NULL" : "'" + nadpesobrutototal + "'") + "," + (nadfob == null ? "NULL" : "'" + nadfob + "'") + ","				+ (nadfobtotal == null ? "NULL" : "'" + nadfobtotal + "'") + ")";		int resp = db.executeUpdate(insert);		return resp == 0 ? false : true;	}	public nacionalizacion_detalle getnacionalizacion_detalle(String nadcodsx) {		String cad = "SELECT * FROM nacionalizacion_detalle WHERE nadcodsx='" + nadcodsx + "'";		return (nacionalizacion_detalle) getEntidad(cad);	}	public boolean updatenacionalizacion_detalle(nacionalizacion_detalle entity) throws SQLException {		String cad = " update nacionalizacion_detalle set  " + " nadcodnac = " + (entity.getnadcodnac() == null ? "NULL" : "'" + entity.getnadcodnac() + "'") + "," + " nadentrada = " + (entity.getnadentrada() == null ? "NULL" : "'" + entity.getnadentrada() + "'") + "," + " nadcantidad = "				+ (entity.getnadcantidad() == null ? "NULL" : "'" + entity.getnadcantidad() + "'") + "," + " nadsaldo = " + (entity.getNadsaldo() == null ? "NULL" : "'" + entity.getNadsaldo() + "'") + "," + " nadpesoneto= "				+ (entity.getNadpesoneto() == null ? "NULL" : "'" + entity.getNadpesoneto() + "'") + "," + " nadpesonetototal = " + (entity.getNadpesonetototal() == null ? "NULL" : "'" + entity.getNadpesonetototal() + "'") + "," + " nadpesobruto = "				+ (entity.getNadpesobruto() == null ? "NULL" : "'" + entity.getNadpesobruto() + "'") + "," + " nadpesobrutototal = " + (entity.getNadpesobrutototal() == null ? "NULL" : "'" + entity.getNadpesobrutototal() + "'") + "," + " nadfob = "				+ (entity.getNadfob() == null ? "NULL" : "'" + entity.getNadfob() + "'") + "," + " nadfobtotal = " + (entity.getNadfobtotal() == null ? "NULL" : "'" + entity.getNadfobtotal() + "'") + " where nadcodsx = " + entity.getnadcodsx();		int resp = db.executeUpdate(cad);		return resp == 0 ? false : true;	}	public boolean updatenacionalizacion_detalle(nacionalizacion_detalleForm entity) throws SQLException {		String cad = " update nacionalizacion_detalle set  " + " nadcodnac = " + (entity.getnadcodnac() == null ? "NULL" : "'" + entity.getnadcodnac() + "'") + "," + " nadentrada = " + (entity.getNadentrada() == null ? "NULL" : "'" + entity.getNadentrada() + "'") + "," + " nadcantidad = "				+ (entity.getnadcantidad() == null ? "NULL" : "'" + entity.getnadcantidad() + "'") + "," + " nadsaldo = " + (entity.getNadsaldo() == null ? "NULL" : "'" + entity.getNadsaldo() + "'") + "," + " nadpesoneto= "				+ (entity.getNadpesoneto() == null ? "NULL" : "'" + entity.getNadpesoneto() + "'") + "," + " nadpesonetototal = " + (entity.getNadpesonetototal() == null ? "NULL" : "'" + entity.getNadpesonetototal() + "'") + "," + " nadpesobruto = "				+ (entity.getNadpesobruto() == null ? "NULL" : "'" + entity.getNadpesobruto() + "'") + "," + " nadpesobrutototal = " + (entity.getNadpesobrutototal() == null ? "NULL" : "'" + entity.getNadpesobrutototal() + "'") + "," + " nadfob = "				+ (entity.getNadfob() == null ? "NULL" : "'" + entity.getNadfob() + "'") + "," + " nadfobtotal = " + (entity.getNadfobtotal() == null ? "NULL" : "'" + entity.getNadfobtotal() + "'") + " where nadcodsx = " + entity.getnadcodsx();		int resp = db.executeUpdate(cad);		return resp == 0 ? false : true;	}	public boolean eliminar(String nadcodsx) throws SQLException {		String elim = " delete from nacionalizacion_detalle where nadcodsx = '" + nadcodsx + "'";		int r = db.executeUpdate(elim);		return r == 0 ? false : true;	}	public int getTotalReferenciasNacionalizacion(String naccodsx) {		String cad = "SELECT count(1) from nacionalizacion_detalle where nadcodnac = " + naccodsx;		return getConteo(cad);	}	public Collection getlistanacionalizacion_detalle(String naccodsx, String start, String param) {		start = start == null ? "0" : start;		param = param == null ? "" : param;		String consulta = " SELECT * FROM nacionalizacion_detalle where " + " nadcodnac= " + naccodsx + "  and " + getTextoBusquedaResumen(param) + "  limit " + this.maxfilas + " offset  " + (Integer.parseInt(start) * this.maxfilas);		return getLista(consulta);	}	public Collection getlistanacionalizacion_detalle(String naccodsx) {		String consulta = " SELECT * FROM nacionalizacion_detalle where " + " nadcodnac= " + naccodsx;		return getLista(consulta);	}	public int getTotalPaginaslistanacionalizacion_detalle(String naccodsx, String param) {		param = param == null ? "" : param;		String consulta = " SELECT count(1) FROM nacionalizacion_detalle where  " + " nadcodnac= " + naccodsx + "  and " + getTextoBusquedaResumen(param);		return getPaginas(consulta);	}	public Collection getlistanacionalizacion_detalleByEntrada(String naccodsx, String producto) {		String consulta = " select  nacionalizacion_detalle.* from nacionalizacion_detalle, entrada where " + " nadentrada  = entcodsx and nadcodnac = " + naccodsx + " and  entcodproducto=" + producto;		return getLista(consulta);	}	public Collection getlistanacionalizacion_detalleByEntrada(String entcodsx) {		String consulta = " select  nacionalizacion_detalle.* from nacionalizacion_detalle where " + " nadentrada  = " + entcodsx;		return getLista(consulta);	}	public nacionalizacion_detalle getnacionalizacion_detalle(String nadentrada, String nadcodnac) {		String cad = "SELECT * FROM nacionalizacion_detalle WHERE nadentrada='" + nadentrada + "'  " + " and nadcodnac=" + nadcodnac;		return (nacionalizacion_detalle) getEntidad(cad);	}	public nacionalizacion_detalle nacionalizacion_detalle_nadcodnac(String entcodsx) {		String cad = "SELECT * FROM nacionalizacion_detalle WHERE nadsaldo >0 and nadentrada=" + entcodsx + " order by nadsaldo asc";		return (nacionalizacion_detalle) getEntidad(cad);	}		public Collection getlistanacionalizacion_detalle_nadcodnac(String entcodsx) {		String cad = "SELECT * FROM nacionalizacion_detalle WHERE nadsaldo >0 and nadentrada=" + entcodsx + " order by nadsaldo asc";		return getLista(cad);	}		public String getTotalReservado(String nadcodsx) {		String cad = "select coalesce(sum(refdcant) + sum(refpsaldo),0) as total_reservado from ( " +				"select promodelo,0 as refdcant, refpsaldo,refpnacdetalle " +				"from referencia_pedido  " +				"inner join producto on procodsx = refpproducto " + 				"inner join pedido on pedcodsx = refpnumpedido and refpsaldo > 0 " + 				"where refpnacdetalle = " + nadcodsx  +				" union " +				"select promodelo,refdcant, 0 as refpsaldo,refpnacdetalle " +				"from referencia_pedido " +  				"inner join producto on procodsx = refpproducto " + 				"inner join pedido on pedcodsx = refpnumpedido " + 				"inner join despacho_pedido on despedpedido = pedcodsx " +				"inner join despacho on despcodsx = despeddespacho and despestado='TRAMITE' " +				"inner join referencia_despacho on refddespacho_pedido = despedcodsx " +				"where refpnacdetalle = " + nadcodsx +  " ) as s";		return getCampo(cad);	}		public String getTotalAveriado(String nadcodsx) {		String cad = "select sum(coalesce(avnsaldo,0)) as total_averiado from averia_nacdet where avnnacdet_or = " + nadcodsx;		return getCampo(cad);	}	}