package averias.form;import ingreso.control.gstentrada;import ingreso.entity.entrada;import java.math.BigDecimal;import javax.servlet.http.HttpServletRequest;import maestro.control.gstbodega;import maestro.control.gstcompania;import maestro.control.gstproducto;import maestro.entity.bodega;import maestro.entity.producto;import org.apache.struts.action.ActionErrors;import org.apache.struts.action.ActionForm;import org.apache.struts.action.ActionMapping;import org.apache.struts.action.ActionMessage;import averias.control.gstaveria;import averias.entity.averia;/** * CLASE GENERADA CON generator V3.0 By pablito****** */public class averiaForm extends ActionForm {	private String avecodsx;	private String avecompania;	private String avefecha;	private String aveingreso;	private String aveentrada;	private String avetipo;	private String aveboddest;	private String aveposdest;	private String avecant_pleg_nac;	private String avecant_pleg_nnac;	private String avecant_prod_nac;	private String avecant_prod_nnac;	private String avesaldo_pleg_nac;	private String avesaldo_pleg_nnac;	private String avesaldo_prod_nac;	private String avesaldo_prod_nnac;	private String aveestado;	/**	 * @uml.property name="bod"	 */	private String bod;	/**	 * @uml.property name="prod"	 */	private String prod;	/**	 * @uml.property name="pos"	 */	private String pos;	/**	 * @uml.property name="saldonac"	 */	private String saldonac;	/**	 * @uml.property name="saldonnac"	 */	private String saldonnac;	private String opcion;	/**	 * @uml.property name="nombrecia"	 */	private String nombrecia;	private String aveproducto;		private String avecodaveriapadre;	public void setopcion(String newopcion) {		this.opcion = newopcion;	}	public String getopcion() {		return this.opcion;	}	public String getavecodsx() {		return avecodsx;	}	public String getavecompania() {		return avecompania;	}	public String getavefecha() {		return avefecha;	}	public String getaveingreso() {		return aveingreso;	}	public String getaveentrada() {		return aveentrada;	}	public String getavetipo() {		return avetipo;	}	public String getaveboddest() {		return aveboddest;	}	public String getaveposdest() {		return aveposdest;	}	public String getavecant_pleg_nac() {		return avecant_pleg_nac;	}	public String getavecant_pleg_nnac() {		return avecant_pleg_nnac;	}	public String getavecant_prod_nac() {		return avecant_prod_nac;	}	public String getavecant_prod_nnac() {		return avecant_prod_nnac;	}	public String getavesaldo_pleg_nac() {		return avesaldo_pleg_nac;	}	public String getavesaldo_pleg_nnac() {		return avesaldo_pleg_nnac;	}	public String getavesaldo_prod_nac() {		return avesaldo_prod_nac;	}	public String getavesaldo_prod_nnac() {		return avesaldo_prod_nnac;	}	public String getaveestado() {		return aveestado;	}	public void setavecodsx(String new_avecodsx) {		this.avecodsx = new_avecodsx;	}	public void setavecompania(String new_avecompania) {		this.avecompania = new_avecompania;	}	public void setavefecha(String new_avefecha) {		this.avefecha = new_avefecha;	}	public void setaveingreso(String new_aveingreso) {		this.aveingreso = new_aveingreso;	}	public void setaveentrada(String new_aveentrada) {		this.aveentrada = new_aveentrada;	}	public void setavetipo(String new_avetipo) {		this.avetipo = new_avetipo;	}	public void setaveboddest(String new_aveboddest) {		this.aveboddest = new_aveboddest;	}	public void setaveposdest(String new_aveposdest) {		this.aveposdest = new_aveposdest;	}	public void setavecant_pleg_nac(String new_avecant_pleg_nac) {		this.avecant_pleg_nac = new_avecant_pleg_nac;	}	public void setavecant_pleg_nnac(String new_avecant_pleg_nnac) {		this.avecant_pleg_nnac = new_avecant_pleg_nnac;	}	public void setavecant_prod_nac(String new_avecant_prod_nac) {		this.avecant_prod_nac = new_avecant_prod_nac;	}	public void setavecant_prod_nnac(String new_avecant_prod_nnac) {		this.avecant_prod_nnac = new_avecant_prod_nnac;	}	public void setavesaldo_pleg_nac(String new_avesaldo_pleg_nac) {		this.avesaldo_pleg_nac = new_avesaldo_pleg_nac;	}	public void setavesaldo_pleg_nnac(String new_avesaldo_pleg_nnac) {		this.avesaldo_pleg_nnac = new_avesaldo_pleg_nnac;	}	public void setavesaldo_prod_nac(String new_avesaldo_prod_nac) {		this.avesaldo_prod_nac = new_avesaldo_prod_nac;	}	public void setavesaldo_prod_nnac(String new_avesaldo_prod_nnac) {		this.avesaldo_prod_nnac = new_avesaldo_prod_nnac;	}	public void setaveestado(String new_aveestado) {		this.aveestado = new_aveestado;	}	public void reset(ActionMapping mapping, HttpServletRequest request) {	}	public ActionErrors validate(ActionMapping mapping, HttpServletRequest request) {		ActionErrors errors = new ActionErrors();		gstaveria gaveria = new gstaveria();		opcion = opcion == null || opcion.equals("") ? "crear" : opcion;		if (opcion.equals("set") || opcion.equals("delete") || opcion.equals("activar") || opcion.equals("cambiar_posicion"))			return null;		if (opcion.equals("crear")) {			// @todo COMPLETAR EL CREAR, SOLO LLAVES UNICAS O REPETIDAS		}		// valido campos requeridos:		if (avecompania.equals(""))			errors.add("avecompania", new ActionMessage("El avecompania no puede ser vacio", false));		if (aveingreso.equals(""))			errors.add("aveingreso", new ActionMessage("El aveingreso no puede ser vacio", false));		if (aveentrada.equals(""))			errors.add("aveentrada", new ActionMessage("El aveentrada no puede ser vacio", false));		if (aveboddest.equals(""))			errors.add("aveboddest", new ActionMessage("El aveboddest no puede ser vacio", false));		if (aveposdest.equals(""))			errors.add("aveposdest", new ActionMessage("El aveposdest no puede ser vacio", false));		// valido el tipo de ingreso y las cantidades que se deben colocar:		if (avecant_pleg_nnac.equals(""))			avecant_pleg_nnac = "0";		if (avecant_prod_nnac.equals(""))			avecant_prod_nnac = "0";		if (avecant_pleg_nac.equals(""))			avecant_pleg_nac = "0";		if (avecant_prod_nac.equals(""))			avecant_prod_nac = "0";		// miro que NO se vaya a finalizar, por que si se finaliza no se valida nada		if (aveestado != null && !aveestado.equals("FINALIZADO")) {			// valido que siempre sea mayor a cero:			String averiado_nac = util.Math.sumar(avecant_pleg_nac, avecant_prod_nac);			String averiado_nnac = util.Math.sumar(avecant_pleg_nnac, avecant_prod_nnac);			String total_averiado = util.Math.sumar(avecant_pleg_nac, avecant_prod_nac, avecant_pleg_nnac, avecant_prod_nnac);			BigDecimal total = new BigDecimal(total_averiado);			BigDecimal snac = new BigDecimal(saldonac);			BigDecimal avenac = new BigDecimal(averiado_nac);			BigDecimal snnac = new BigDecimal(saldonnac);			BigDecimal avennac = new BigDecimal(averiado_nnac);			if (total.compareTo(BigDecimal.ZERO) == 0) {				errors.add("avecant_pleg_nac", new ActionMessage("La mercancia averiada no puede ser cero", false));				errors.add("avecant_prod_nac", new ActionMessage("La mercancia averiada no puede ser cero", false));				errors.add("avecant_pleg_nnac", new ActionMessage("La mercancia averiada no puede ser cero", false));				errors.add("avecant_prod_nnac", new ActionMessage("La mercancia averiada no puede ser cero", false));			}			// ahora valido que lo NAC que se pone en averias (por plegadiza o producto)no sea mayor al saldo nac:			if (opcion.equals("crear")) {				if (util.Math.comparar(averiado_nac, saldonac) > 0) {					errors.add("avecant_pleg_nac", new ActionMessage("La mercancia averiada supera el saldo existente", false));					errors.add("avecant_prod_nac", new ActionMessage("La mercancia averiada supera el saldo existente", false));				}				// ahora valido que lo NAC que se pone en averias (por plegadiza o producto)no sea mayor al saldo nac:				if (util.Math.comparar(averiado_nnac, saldonnac) > 0) {					errors.add("avecant_pleg_nnac", new ActionMessage("La mercancia averiada supera el saldo existente", false));					errors.add("avecant_prod_nnac", new ActionMessage("La mercancia averiada supera el saldo existente", false));				}			}		}		if (!errors.isEmpty())			errors.add("general", new ActionMessage("No se pudo crear , revise", false));		return errors;	}	public void llenar(averia entity) {		this.avecodsx = entity.getavecodsx();		this.avecompania = entity.getavecompania();		this.avefecha = entity.getavefecha();		this.aveingreso = entity.getaveingreso();		this.aveentrada = entity.getaveentrada();		this.avetipo = entity.getavetipo();		this.aveboddest = entity.getaveboddest();		this.aveposdest = entity.getaveposdest();		this.avecant_pleg_nac = entity.getavecant_pleg_nac();		this.avecant_pleg_nnac = entity.getavecant_pleg_nnac();		this.avecant_prod_nac = entity.getavecant_prod_nac();		this.avecant_prod_nnac = entity.getavecant_prod_nnac();		this.avesaldo_pleg_nac = entity.getavesaldo_pleg_nac();		this.avesaldo_pleg_nnac = entity.getavesaldo_pleg_nnac();		this.avesaldo_prod_nac = entity.getavesaldo_prod_nac();		this.avesaldo_prod_nnac = entity.getavesaldo_prod_nnac();		this.aveestado = entity.getaveestado();		this.aveproducto = entity.getAveproducto();		this.avecodaveriapadre = entity.getAvecodaveriapadre();				gstbodega gbod = new gstbodega();		gstentrada gent = new gstentrada();		gstproducto gprod = new gstproducto();		gstcompania gcomp = new gstcompania();		entrada ent = gent.getentrada(aveentrada);		if (ent != null) {			producto prod = gprod.getproducto(ent.getentcodproducto());			if (prod != null)				this.setProd(prod.getpromodelo() + " - " + prod.getprodescripcion());			bodega bod = gbod.getbodega(ent.getEntbodega());			if (bod != null)				setBod(bod.getbodnombre());			setPos(ent.getentposicion());		}		if (avecompania != null && !avecompania.equals("")) {			nombrecia = gcomp.getcompania(avecompania).getcomnombre();		}	}	/**	 * @return	 * @uml.property name="bod"	 */	public String getBod() {		return bod;	}	/**	 * @param bod	 * @uml.property name="bod"	 */	public void setBod(String bod) {		this.bod = bod;	}	/**	 * @return	 * @uml.property name="pos"	 */	public String getPos() {		return pos;	}	/**	 * @param pos	 * @uml.property name="pos"	 */	public void setPos(String pos) {		this.pos = pos;	}	/**	 * @return	 * @uml.property name="prod"	 */	public String getProd() {		return prod;	}	/**	 * @param prod	 * @uml.property name="prod"	 */	public void setProd(String prod) {		this.prod = prod;	}	/**	 * @return	 * @uml.property name="saldonac"	 */	public String getSaldonac() {		return saldonac;	}	/**	 * @param saldonac	 * @uml.property name="saldonac"	 */	public void setSaldonac(String saldonac) {		this.saldonac = saldonac;	}	/**	 * @return	 * @uml.property name="saldonnac"	 */	public String getSaldonnac() {		return saldonnac;	}	/**	 * @param saldonnac	 * @uml.property name="saldonnac"	 */	public void setSaldonnac(String saldonnac) {		this.saldonnac = saldonnac;	}	/**	 * @return	 * @uml.property name="nombrecia"	 */	public String getNombrecia() {		return nombrecia;	}	/**	 * @param nombrecia	 * @uml.property name="nombrecia"	 */	public void setNombrecia(String nombrecia) {		this.nombrecia = nombrecia;	}	public String getAveproducto() {		return aveproducto;	}	public void setAveproducto(String aveproducto) {		this.aveproducto = aveproducto;	}		public String getAvecodaveriapadre() {		return avecodaveriapadre;	}	public void setAvecodaveriapadre(String avecodaveriapadre) {		this.avecodaveriapadre = avecodaveriapadre;	}}